#!/usr/bin/env ruby

$LOAD_PATH.unshift(__dir__ + '/../lib')

require 'yard'

require 'rubocop/rspec/description_extractor'
require 'rubocop/rspec/config_formatter'

YARD.parse(Dir[__dir__ + '/../lib/rubocop/cop/rspec/*.rb'], [])

descriptions = RuboCop::RSpec::DescriptionExtractor.new(YARD::Registry.all).to_h
current_config = YAML.load_file('config/default.yml')

File.write(
  'config/default.yml',
  RuboCop::RSpec::ConfigFormatter.new(current_config, descriptions).dump
)
